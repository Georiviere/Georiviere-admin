{% load i18n mapentity_tags georiviere_tags %}
<h3>{% trans "Description" %}</h3>
<table class="table">
    {% if modelname != "land" %}
    <tr>
        <th>{% trans "Land" %}</th>
        <td>
            {% if perms.description.add_land %}
            <p class="autohide">
                <a href="{% url 'description:land_add' %}"
                   class="btn btn-sm btn-success">
                <i class="bi bi-plus-circle-fill"></i> {% trans "Add a new land" %}</a>
            </p>
            {% endif %}

            {% if modelname == 'stream' %}
                {% valuelist_source object.lands object field='name' %}
            {% else %}
                {% valuelist object.lands field='name' %}
            {% endif %}
        </td>
    </tr>
    {% endif %}

    {% if modelname != "usage" %}
    <tr>
        <th>{% trans "Usage" %}</th>
        <td>
            {% if perms.description.add_usage %}
            <p class="autohide">
                <a href="{% url 'description:usage_add' %}"
                   class="btn btn-sm btn-success">
                <i class="bi bi-plus-circle-fill"></i> {% trans "Add a new usage" %}</a>
            </p>
            {% endif %}

            {% if modelname == 'stream' %}
                {% valuelist_source object.usages object field='usage_types' %}
            {% else %}
                {% valuelist object.usages field='usage_types' %}
            {% endif %}
        </td>
    </tr>
    {% endif %}

    {% if modelname != "status" %}
        <tr>
            <th>{% trans "Statuses" %}</th>
            <td>
            {% if object.statuses %}
                {% valuelist object.status field="status_types" %}
            {% else %}
                {% valuelist object.statuses field="status_types" %}
            {% endif %}
            </td>
        </tr>
    {% endif %}

    {% if modelname != "morphology" %}
        <tr>
            <th>{% trans "Morphologies" %}</th>
            <td>
            {% if object.morphologies %}
                {% valuelist object.morphologies field="name" %}
            {% else %}
                {% valuelist object.morphologies field="name" %}
            {% endif %}
            </td>
        </tr>
    {% endif %}
</table>
